(function() { 
  var commitStreamAdminStyles = $("#commitStreamAdminStyles");
  commitStreamAdminStyles.append($('<link type="text/css" rel="stylesheet" href="{{{resourcePath}}}bower_components/bootstrap/dist/css/bootstrap.css">'));

  var loadScripts = function(scripts) {
    if (!scripts || !scripts.length) {
      return;
    }
    var currentScript = scripts.shift();
    $.getScript(currentScript)
      .done(function() {
        if (scripts.length > 0) {
          loadScripts(scripts);
        } else {
          // Bootstrap time...
          angular.bootstrap($('#commitStreamAdmin'), ['commitStreamAdmin']);
        }
      })
      .fail(function(jqXhr, settings, exception) {
        console.error("CommitStream dependency loading exception for script:" + currentScript);
        console.error("CommitStream dependency loading exception details:");
        console.error(exception);
      });
  };

  loadScripts([
    "{{{resourcePath}}}bower_components/angular/angular.js",
    "{{{resourcePath}}}bower_components/angular-route/angular-route.js",
    "{{{resourcePath}}}bower_components/angular-hal/angular-hal.js",
    "{{{resourcePath}}}bower_components/rfc6570/rfc6570.js",
    "{{{resourcePath}}}admin"
  ]);

}());