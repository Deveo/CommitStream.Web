<form ng-submit='inboxCreate()'>
  <style>
    .commitstream-admin .repoAdd { 
      margin-top: 0px;
      width: 50px;
      height: 34px;
      outline-color: rgb(7, 73, 107);
      color: rgb(7, 73, 107);
      text-shadow: rgb(230, 230, 230) 0px 1px 0px;
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      font-size: 12px;
    }
    .commitstream-admin .repoAdd:hover { 
      color: rgb(0, 159, 242);
    }
    .commitstream-admin .copy-clip {
      font-size: 70%;
    }
  </style>

  <p>
    <input
      ng-change="enabledChange()"
      bs-switch
      ng-model="enabled.selected"
      type="radio"
      switch-active="{{ enabled.active }}"
      switch-on-text="{{ enabled.onText }}"
      switch-off-text="{{ enabled.offText }}"
      switch-on-color="{{ enabled.onColor }}"
      switch-off-color="{{ enabled.offColor }}"
      switch-animate="{{ enabled.animate }}"
      switch-size="{{ enabled.size }}"
      switch-radio-off="{{ enabled.radioOff }}"
      switch-label-width="{{ enabled.labelWidth }}"
      switch-handle-width="{{ enabled.handleWidth }}"
      switch-icon="{{ enabled.icon }}"
      ng-value="'Enabled'"
      ng-true-value="'Enbalbed'"
      ng-false-value="'Disabled'"
      switch-inverse="{{ !inverse }}">
    
    <span ng-show='applying()'>&nbsp;<img src='http://localhost/css/images/loaders/ajax-loader.gif' /> <em>Please wait while enabling...</em></span>
  </p>

  <div ng-if='enabled.enabled'>  
    <h3>Setup Global Repositories</h3>    
    <div class='well well-sm'>
      <div class='input-group'>
        <input type='text' class='form-control' ng-model='newInbox.url'  size='100'
             placeholder='add new GitHub repo url...'>
        <span class='input-group-btn'>
          <button class='repoAdd' type='button' ng-click='inboxCreate()'>Add</button>
        </span>
      </div>
      <div ng-if='inboxes.length > 0'>
        <h4>Repositories</h4>
        <table class='table table-striped table-bordered'>
          <tr>
            <th>Repository</th>
            <th>WebHook URL</th>        
          </tr>
          <tr ng-repeat-start='inbox in inboxes'>
            <td style='width: 25%'><a target='_blank' href='{{inbox.url}}'>{{inbox.name}}</a></td>
            <td>
              <div class='copy-clip'>Copy to clipboard</div>
              <input style='font-size:75%' type='text' value='{{inbox.addCommit}}' class='form-control inbox' ng-click='inboxHighlight($event)' />
            </td>
          </tr>
          <tr ng-repeat-end ng-init='inboxHighlightTop()'></tr>
        </table>
      </div>
    </div>
  </div>

</form>